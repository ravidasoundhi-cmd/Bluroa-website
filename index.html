<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bluroa Café</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: Inter, sans-serif; background:#f9f7f5; color:#1d2a3a; margin:0; }
    .container{ max-width:1200px; margin:0 auto; padding:24px; }
    .hero{ background:#1A4D7C; color:white; padding:60px; border-radius:18px; text-align:center; background-size:cover; background-position:center; }
    .btn{ background:white; color:#1A4D7C; padding:12px 20px; border-radius:8px; border:none; cursor:pointer; font-weight:600; }
    .section{ margin-top:40px; }
    .menu-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:18px; }
    .menu-card{ background:white; border-radius:14px; padding:12px; text-align:center; box-shadow:0 6px 18px rgba(26,77,124,0.06); }
    img.responsive{ width:100%; height:auto; border-radius:10px; display:block; }
  </style>
</head>
<body>
  <header class="container" style="padding-top:18px;">
    <img id="site-logo" src="images/logo.jpg" alt="Bluroa Logo" style="height:56px;">
  </header>

  <main class="container">
    <section id="hero" class="hero" style="background-image: url('images/hero.jpg');">
      <h1 id="hero-headline" style="font-family: 'Playfair Display', serif; font-size:44px; margin:0;">Where Blue Becomes Brew</h1>
      <p id="hero-subtext" style="margin-top:12px; font-size:18px; max-width:760px; margin-left:auto; margin-right:auto;">B-town India's first Santorini-inspired coffee experience.</p>
      <div style="margin-top:20px;">
        <button class="btn" id="hero-cta">View Menu</button>
      </div>
    </section>

    <section class="section" id="story">
      <div style="display:flex; gap:20px; align-items:center; flex-wrap:wrap;">
        <div style="flex:1; min-width:280px;">
          <h2 id="story-title" style="font-family:'Playfair Display', serif; font-size:32px;">Our Story</h2>
          <p id="story-text">Born from the hues of the Aegean, Bluroa Café brings calm and creativity to every sip.</p>
          <p><a href="#" id="story-link">Learn more →</a></p>
        </div>
        <div style="flex:1; min-width:280px;">
          <img id="story-image" class="responsive" src="images/story.jpg" alt="Story image">
        </div>
      </div>
    </section>

    <section class="section" id="menu-preview">
      <h2 style="font-family:'Playfair Display', serif; font-size:32px; text-align:center; margin-bottom:18px;">Menu</h2>
      <div id="menu-grid" class="menu-grid"></div>
    </section>

    <section class="section" id="blog-preview">
      <h2 style="font-family:'Playfair Display', serif; font-size:32px; text-align:center; margin-bottom:18px;">From the Blog</h2>
      <div id="blog-grid" class="menu-grid"></div>
    </section>

  </main>

  <footer class="container" style="padding:24px 24px 60px 24px; text-align:center; color:#5b6b7a;">
    <p id="footer-text">© 2025 Bluroa Café</p>
  </footer>

<script>
async function loadContent(){
  try {
    const [homeRes, menuRes, storyRes, blogRes] = await Promise.all([
      fetch('/content/home.json').then(r=>r.ok ? r.json() : null),
      fetch('/content/menu.json').then(r=>r.ok ? r.json() : null),
      fetch('/content/story.json').then(r=>r.ok ? r.json() : null),
      fetch('/content/blog.json').then(r=>r.ok ? r.json() : null),
    ]);

    if(homeRes){
      document.getElementById('hero-headline').textContent = homeRes.hero_headline || document.getElementById('hero-headline').textContent;
      document.getElementById('hero-subtext').textContent = homeRes.hero_subtext || document.getElementById('hero-subtext').textContent;
      if(homeRes.hero_image) document.getElementById('hero').style.backgroundImage = `url('${homeRes.hero_image}')`;
      if(homeRes.logo) document.getElementById('site-logo').src = homeRes.logo;
      if(homeRes.footer_text) document.getElementById('footer-text').textContent = homeRes.footer_text;
      if(homeRes.hero_cta_text) document.getElementById('hero-cta').textContent = homeRes.hero_cta_text;
    }

    if(storyRes){
      document.getElementById('story-title').textContent = storyRes.title || document.getElementById('story-title').textContent;
      document.getElementById('story-text').textContent = storyRes.text || document.getElementById('story-text').textContent;
      if(storyRes.image) document.getElementById('story-image').src = storyRes.image;
      if(storyRes.link) document.getElementById('story-link').href = storyRes.link;
    }

    if(menuRes && Array.isArray(menuRes.items)){
      const grid = document.getElementById('menu-grid');
      grid.innerHTML = '';
      menuRes.items.forEach(item => {
        const div = document.createElement('div');
        div.className = 'menu-card';
        div.innerHTML = `<img src="${item.photo || 'images/placeholder.png'}" alt="${item.name}" class="responsive" style="height:140px;object-fit:cover;"><h3 style="margin:12px 0 6px 0;">${item.name}</h3><p style="color:#6b7280;">${item.description || ''}</p><p style="font-weight:700;margin-top:8px;">${item.price || ''}</p>`;
        grid.appendChild(div);
      });
    }

    if(blogRes && Array.isArray(blogRes.posts)){
      const grid = document.getElementById('blog-grid');
      grid.innerHTML = '';
      blogRes.posts.forEach(p => {
        const div = document.createElement('div');
        div.className = 'menu-card';
        div.innerHTML = `<img src="${p.image || 'images/placeholder.png'}" alt="${p.title}" class="responsive" style="height:140px;object-fit:cover;"><h3 style="margin:12px 0 6px 0;">${p.title}</h3><p style="color:#6b7280;">${p.excerpt || ''}</p>`;
        grid.appendChild(div);
      });
    }

  } catch(err){
    console.error('Error loading content', err);
  }
}

document.addEventListener('DOMContentLoaded', loadContent);
document.getElementById('hero-cta').addEventListener('click', ()=>{ window.location.hash='#menu-preview'; document.getElementById('menu-grid').scrollIntoView({behavior:'smooth'}); });
</script>

</body>
</html>
